module.exports.config = {
  name: "secretv7",
  version: "1.0.1",
  hasPermssion: 0,
  credits: "RAHUL",
  description: "",
  commandCategory: "Picture",
  cooldowns: 0,
  dependencies: {
        "axios": "",y
        "fs-extra": ""
    }
}
module.exports.onLoad = async() => {
    const { resolve } = global.nodemodule["path"];
    const { existsSync, mkdirSync } = global.nodemodule["fs-extra"];
    const { downloadFile } = global.utils;
    const dirMaterial = __dirname + `/cache/canvas/`;
    const path = resolve(__dirname, 'cache/canvas', 'pair6.png');
    if (!existsSync(dirMaterial + "canvas")) mkdirSync(dirMaterial, { recursive: true });
    if (!existsSync(path)) await downloadFile("https://i.postimg.cc/fWYH1CrL/pair6-11zon.png", path);
}

async function makeImage({ one, two }) {
    const fs = global.nodemodule["fs-extra"];
    const path = global.nodemodule["path"];
    const axios = global.nodemodule["axios"]; 
    const jimp = global.nodemodule["jimp"];
    const __root = path.resolve(__dirname, "cache", "canvas");

    let pairing_img = await jimp.read(__root + "/pair6.png");
    let pathImg = __root + `/pairing_${one}__${two}.png`;
    let avatarOne = __root + `/avt_${one}.png`;
    let avatarTwo = __root + `/avt_${two}.png`;

    let getAvatarOne = (await axios.get(`https://graph.facebook.com/${one}/picture?width=512&height=512&access_token=6628568379%7Cc1e620fa708a1d5696fb991c1bde5662`, { responseType: 'arraybuffer' })).data;
    fs.writeFileSync(avatarOne, Buffer.from(getAvatarOne, 'utf-8'));

    let getAvatarTwo = (await axios.get(`https://graph.facebook.com/${two}/picture?width=512&height=512&access_token=6628568379%7Cc1e620fa708a1d5696fb991c1bde5662`, { responseType: 'arraybuffer' })).data;
    fs.writeFileSync(avatarTwo, Buffer.from(getAvatarTwo, 'utf-8'));

    let circleOne = await jimp.read(await circle(avatarOne));
    let circleTwo = await jimp.read(await circle(avatarTwo));
    pairing_img.composite(circleOne.resize(330, 330), 162, 194).composite(circleTwo.resize(330, 330), 785, 194);

    let raw = await pairing_img.getBufferAsync("image/png");

    fs.writeFileSync(pathImg, raw);
    fs.unlinkSync(avatarOne);
    fs.unlinkSync(avatarTwo);

    return pathImg;
}
async function circle(image) {
    const jimp = require("jimp");
    image = await jimp.read(image);
    image.circle();
    return await image.getBufferAsync("image/png");
}
module.exports. run = async function({ api, event, args, Users, Threads, Currencies }) {
  const axios = require("axios");
    const fs = require("fs-extra");
    const { threadID, messageID, senderID } = event;
    var tl = ['21%', '67%', '19%', '37%', '17%', '96%', '52%', '62%', '76%', '83%', '100%', '99%', "0%", "48%"];
        var tle = tl[Math.floor(Math.random() * tl.length)];
        let dataa = await api.getUserInfo(event.senderID);
        let namee = await dataa[event.senderID].name
        let loz = await api.getThreadInfo(event.threadID);
        var emoji = loz.participantIDs;
        var id = emoji[Math.floor(Math.random() * emoji.length)];

let hemang = ["ð‘²ð’šð’‚ ð’•ð’–ð’Žð’ð’† ð’Œð’‰ð’‚ð’ð’‚ ð’Œð’‰ð’‚ð’šð’‚ ð’…ð’†ð’‚ð’“ ðŸ’ðŸ¥€", "ð‘±ð’‚ð’Š ð‘ºð’‰ð’“ð’†ð’† ð‘²ð’“ð’Šð’”ð’‰ð’ð’‚ ðŸŒ¹ðŸš©ðŸ’", "ð‘±ð’‚ð’Š ð‘ºð’‰ð’“ð’†ð’† ð‘¹ð’‚ð’ŽðŸš©ðŸš©ðŸ’ðŸŒ·", "ð‘¹ð’‚ð’…ð’‰ð’† ð‘¹ð’‚ð’…ð’‰ð’† ðŸª·ðŸµï¸", "ð‘¹ð’‚ð’Ž ð‘¹ð’‚ð’Ž ð’‹ð’Š ðŸš©ðŸŒ¹ðŸŒ·", "ð‘±ð’‚ð’Š ð‘¯ð’ ðŸ¥°","ð‘±ð’‚ð’Š ð‘©ð’‰ð’ð’ð’†ð’ð’‚ð’•ð’‰ â¤ï¸ðŸ§¡ðŸ’› ", "ð‘³ð’ð’—ð’† ð’šð’ð’– ð‘«ð’ð’”ð’• ðŸ’šðŸ©µðŸ’™","ð‘²ð’†ð’”ð’† ð’‰ð’ ð’•ð’–ð’Ž ð’…ð’ð’”ð’• ðŸ’—ðŸŒ¹", "ð‘±ð’‚ð’Š ð‘ºð’‰ð’“ð’†ð’† ð‘²ð’“ð’Šð’”ð’‰ð’ð’‚ ðŸš©ðŸš©ðŸŒ·ðŸŒ¹ ", "ð‘±ð’‚ð’Š ð‘ºð’‰ð’“ð’†ð’† ð‘¹ð’‚ð’Ž ðŸš©ðŸŒºðŸ¥€ðŸ’ðŸŒ¹", "ð‘²ð’†ð’”ð’‚ ð’ˆð’šð’‚ ð’‚ð’‚ð’‹ ð’Œð’‚ ð’…ð’Šð’ ðŸ‚ðŸŒ»",
"ð‘»ð’–ð’Ž ð’Žð’†ð’“ð’Š ð’›ð’Šð’ð’…ð’‚ð’ˆð’Š ð’Œð’Š ð’”ð’‚ð’ƒð’”ð’† ð’Œð’‰ð’ð’ð’ƒð’”ð’–ð’“ð’‚ð’• ð’ƒð’‚ð’‚ð’• ð’‰ð’, ð’Žð’†ð’“ð’Š ð’‘ð’šð’‚ð’‚ð’“ð’Š. â¤ï¸", "ð‘»ð’†ð’“ð’† ð’ƒð’Šð’ð’‚ ð’Žð’†ð’“ð’† ð’…ð’Šð’ ð’Œð’Š ð’…ð’‰ð’‚ð’…ð’Œð’‚ð’ ð’‚ð’…ð’‰ð’ð’ð’“ð’Š ð’‰ð’‚ð’Š, ð’‹ð’‚ð’‚ð’ð’†ð’Žð’‚ð’. ðŸ’“", "ð‘»ð’–ð’Žð’‰ð’‚ð’“ð’Š ð’Žð’–ð’”ð’Œð’–ð’“ð’‚ð’‰ð’‚ð’• ð’”ð’† ð’‰ð’Š ð’Žð’†ð’“ð’Š ð’”ð’–ð’ƒð’‚ð’‰ ð’”ð’‚ð’—ð’†ð’“ð’† ð’Œð’‰ð’Šð’ð’•ð’Š ð’‰ð’‚ð’Š. ðŸ˜Šâ¤ï¸", "ð‘»ð’–ð’Žð’”ð’† ð’‹ð’–ð’…ð’Š ð’‰ð’‚ð’“ ð’‘ð’‚ð’ ð’Žð’†ð’“ð’Š ð’›ð’Šð’ð’…ð’‚ð’ˆð’Š ð’Œð’‚ ð’”ð’‚ð’ƒð’”ð’† ð’‰ð’‚ð’”ð’†ð’†ð’ ð’‘ð’‚ð’ ð’‰ð’‚ð’Š. ðŸ’‘", "ð‘»ð’–ð’Žð’‰ð’‚ð’“ð’† ð’ƒð’Šð’ð’‚ ð’Žð’†ð’“ð’Š ð’…ð’–ð’ð’Šð’šð’‚ ð’‚ð’…ð’‰ð’ð’ð’“ð’Š ð’”ð’Š ð’ð’‚ð’ˆð’•ð’Š ð’‰ð’‚ð’Š, ð’Žð’†ð’“ð’† ð’šð’‚ð’‚ð’“. ðŸ’–", "ð‘»ð’–ð’Žð’‰ð’‚ð’“ð’‚ ð’”ð’‚ð’‚ð’•ð’‰, ð’Žð’†ð’“ð’Š ð’Œð’‚ð’‰ð’‚ð’ð’Š ð’Œð’Š ð’”ð’‚ð’ƒð’”ð’† ð’Œð’‰ð’ð’ð’ƒð’”ð’–ð’“ð’‚ð’• ð’„ð’‰ð’‚ð’ð’…ð’‚ð’ð’Š ð’‰ð’‚ð’Š. ðŸŒ™ðŸ’", "ð‘»ð’–ð’Žð’‰ð’‚ð’“ð’Š ð’ƒð’‚ð’‚ð’•ð’†ð’Šð’ ð’Žð’†ð’“ð’† ð’…ð’Šð’ ð’Œð’ ð’„ð’‰ð’‰ð’ð’ ð’ð’†ð’•ð’Š ð’‰ð’‚ð’Šð’, ð’‘ð’šð’‚ð’‚ð’“ ð’Žð’†ð’Šð’ ð’Žð’‚ð’”ð’•ð’Š ð’Žð’†ð’Šð’. ðŸ˜â¤ï¸", "ð‘»ð’–ð’Žð’‰ð’‚ð’“ð’Š ð’‚ð’‚ð’ð’Œð’‰ð’†ð’Šð’, ð’Žð’†ð’“ð’Š ð’…ð’–ð’ð’Šð’šð’‚ ð’Œð’Š ð’”ð’‚ð’ƒð’”ð’† ð’‘ð’šð’‚ð’‚ð’“ð’Š ð’•ð’‚ð’”ð’—ð’†ð’†ð’“ ð’‰ð’‚ð’Š. ðŸŒŸðŸ˜˜", "ð‘»ð’–ð’Žð’”ð’† ð’‘ð’šð’‚ð’‚ð’“ ð’Œð’‚ð’“ð’ð’‚ ð’Žð’†ð’“ð’Š ð’›ð’Šð’ð’…ð’‚ð’ˆð’Š ð’Œð’‚ ð’”ð’‚ð’ƒð’”ð’† ð’‚ð’„ð’‰ð’‰ð’‚ ð’‡ð’‚ð’Šð’”ð’ð’‚ ð’‰ð’‚ð’Š. ðŸ’ž", "ð‘»ð’–ð’Žð’”ð’† ð’‹ð’–ð’…ð’Œð’‚ð’“ ð’Žð’†ð’“ð’Š ð’›ð’Šð’ð’…ð’‚ð’ˆð’Š ð’Žð’†ð’Šð’ ð’“ð’‚ð’ð’ˆ ð’ƒð’‰ð’‚ð’“ ð’ˆð’‚ð’šð’†, ð’Žð’†ð’“ð’Š ð’‹ð’‚ð’‚ð’. ðŸŒˆâ¤ï¸","ð‘ºð’‚ð’ƒð’”ð’† ð’‚ð’„ð’‰ð’‰ð’Š ð’‹ð’ð’…ð’Š "," ð‘»ð’–ð’Žð’‰ð’‚ð’“ð’† 100 ð’ƒð’‚ð’„ð’‰ð’‰ð’† ð’‰ð’ ðŸ’–ðŸ˜","ð‘²ð’Šð’•ð’ð’† ð’„ð’–ð’•ð’† ð’ð’ˆ ð’“ð’‰ð’† ð’…ð’ð’ð’ ðŸ’›ðŸ§¡","ð‘»ð’‚ð’ˆð’…ð’Š ð’‹ð’ð’…ð’Š ð’ƒð’ ð’ˆð’‚ð’Š ðŸ’“ðŸ’–"," ð‘´ð’”ð’• ð’„ð’ð’–ð’‘ð’ð’†ð’” ð’†ð’Œð’…ð’‚ð’Ž ðŸ’“","ð‘´ð’ð’•ð’– ð’ð’“ ð‘·ð’‚ð’•ð’ð’– ð’Œð’Š ð’‹ð’ð’…ð’Š ðŸ˜¹ðŸ’ž","ð‘«ð’ð’ð’ ð’Žð’ð’•ð’† ð’ð’“ ð’Šð’ð’Œð’† ð’ƒð’„ð’‰ð’‰ð’† ð’Šð’ð’”ð’† ð’ƒð’‰ð’Š ð’Žð’ð’•ð’† ðŸ˜¹ðŸ’›" ,"ð‘ºð’…ð’‚ ð‘ºð’–ð’‰ð’‚ð’ˆð’‚ð’ ð‘¹ð’‰ð’ ðŸ’–","ð‘»ð’–ð’Žð’‰ð’‚ð’“ð’Š ð‘ªð’“ð’Šð’„ð’Œð’†ð’• ð’•ð’†ð’‚ð’Ž ð’ƒð’‚ð’ð’† ðŸ¤­","ð‘»ð’–ð’Žð’‰ð’‚ð’“ð’† 8 ð‘©ð’‚ð’„ð’‰ð’‰ð’† ð’‰ð’ ðŸ˜—","ð‘»ð’–ð’Žð’‰ð’‚ð’“ð’† 50 ð’ƒð’‚ð’„ð’‰ð’‰ð’† ð’‰ð’ ðŸ˜‹","ð‘©ð’ð’ð’ ð‘¹ð’‚ð’…ð’‰ð’† ð‘¹ð’‚ð’…ð’‰ð’† ðŸ’–ðŸš©","ð‘©ð’ð’ð’ ð‘±ð’‚ð’Š ð’”ð’‰ð’†ð’† ð‘²ð’“ð’Šð’”ð’‰ð’ð’‚ ðŸ’–ðŸš©","7 ð’‹ð’‚ð’ð’Žð’ ð’Œð’‚ ð’šð’† ð’“ð’Šð’”ð’•ð’‚ ð’‰ ðŸ’—ðŸ’—","ð‘ºð’‚ð’”ð’•ð’† ð‘ªð’ð’–ð’‘ð’ð’†ð’”","ð‘«ð’ð’ð’ ð‘»ð’‰ð’‚ð’“ð’Œð’Š ð’‰ ð’šð’† ð’•ð’ ðŸ˜","ð‘¬ð’Œ ð’‰ð’‚ð’ð’…ð’”ð’ð’Žð’† ð’†ð’Œ ð’ƒð’†ð’–ð’•ð’Šð’‡ð’–ð’ ðŸ¥°","ð‘¨ð’†ð’† ð‘® ð‘¶ð’ð’ ð‘® ð’Œð’“ð’ð’† ð’˜ð’‚ð’ð’† ðŸ˜‚ðŸ’“"," ð‘ªð’‰ð’Šð’Šð’Š ðŸ¤£"," ð’€ð’† ð‘¹ð’Šð’”ð’•ð’‚.ð’Œð’šð’‚ ð’Œð’†ð’‰ð’ð’‚ð’•ð’‚ ð’‰ ðŸ¤­"," ð‘ªð’‰ð’Šð’Š ð’€ð’† ð’Œð’†ð’”ð’‚ ð‘¹ð’Šð’”ð’•ð’‚ ð’‰ ðŸ¥¹","ð‘ªð’‰ð’Šð’Š ð‘ªð’‰ð’Šð’Š ð‘»ð’‰ð’–ð’– ð‘»ð’‰ð’–ð’– ðŸ˜†","ð‘²ð’Šð’•ð’ð’† ð’ˆð’‚ð’ð’…ð’† ð’ð’ð’ˆ ð’‰ ðŸ¤£"," ð‘¹ð’†ð’‚ð’ ð‘©ð‘­ ð‘®ð‘­ ð’‚ð’‚ ð’ˆð’šð’† ðŸ’"," ð‘»ð’–ð’Žð’‰ð’‚ð’“ð’Š ð’…ð’ð’”ð’•ð’Š ð’ƒð’‚ð’ð’Š ð’“ð’‚ð’‰ð’† ðŸ’ž","ð‘»ð’–ð’Žð’‰ð’‚ð’“ð’Š ð’‹ð’ð’…ð’Š ð’•ð’–ð’•.ð’‹ð’‚ð’šð’† ðŸ˜—","ð‘»ð’–ð’Žð’‰ð’‚ð’“ð’Š ð’‹ð’ð’…ð’Š ð’ƒð’‚ð’ð’Š ð’“ð’‚ð’‰ð’† ðŸ¥³","ð‘«ð’Šð’—ð’ð’“ð’„ð’† ð’‰ð’ ð’‹ð’‚ð’šð’† ð’•ð’–ð’Žð’‰ð’‚ð’“ð’‚ ðŸ˜†","ð‘«ð’ð’ð’ ð‘©ð’†ð’”ð’•ð’‡ð’“ð’Šð’†ð’ð’… ð’‚ð’‚ð’‹ ð’†ð’Œ ð’”ð’‚ð’•ð’‰ ðŸ’“ðŸ’—"," ð‘²ð’Šð’•ð’ð’† ð’‚ð’„ð’‰ð’‰ð’† ð’ƒð’†ð’”ð’•ð’– ð’ƒð’†ð’”ð’•ð’Šð’† ð’‰ ðŸ’—","ð‘¨ð’‘ð’ð’Š ð‘®ð‘­ ð’”ð’† ð’„ð’‰ð’–ð’‘ð’‚ð’Œð’† ð’‘ð’‚ð’Šð’“ ð’‘ð’‚ð’Šð’“ ð’Œð’“ ð’“ð’‰ð’† ð’‰ð’ ðŸ˜ðŸ˜ "," ð‘»ð’–ð’Žð’‰ð’‚ð’“ð’Š ð’‹ð’ð’…ð’Š 7 ð’‹ð’‚ð’ð’Žð’ ð’•ð’‚ð’Œ ð’„ð’‰ð’ð’†ðŸ’•","ð‘²ð’“ð’ð’ ð’…ð’ð’ð’ ð’”ð’†ð’•ð’•ð’Šð’ð’ˆ ð’‚ð’ƒðŸ§¡","ð‘­ð’–ð’ð’ ð’”ð’†ð’•ð’•ð’Šð’ð’ˆð’ƒð’‚ð’›ð’ŠðŸ˜‹","ð‘­ð’–ð’ð’ ð‘³ð’Šð’ð’†ð’ƒð’‚ð’›ð’ŠðŸ˜", "ð‘µð’‰ð’Š ð‘·ð’‚ð’•ð’†ð’ˆð’Š ð’šð’†ðŸ˜"," ð‘µð’‰ð’Š ð’‘ð’‚ð’•ð’ð’† ð’˜ð’‚ð’ð’Š ð’šð’†ðŸ˜‚","ð‘»ð’–ð’Ž ð’”ð’‚ð’…ð’‚ ð’”ð’Šð’ð’ˆð’ð’† ð‘¹ð’‰ð’ð’ˆð’†ðŸ˜¹","ðŸŒ¸ à¤šà¤²à¥‹ à¤à¤• à¤¦à¥‚à¤¸à¤°à¥‡ à¤•à¥‹ à¤šà¥à¤®à¥à¤®à¤¾ à¤¦à¥‡à¤¦à¥‹ à¤œà¤²à¥à¤¦à¥€ à¤¸à¥‡ _____ðŸ˜ðŸ¦‹", "ð‘ªð’‰ð’ð’ ð’‹ð’‚ð’ ð’‚ð’ƒ ð’ƒð’†ð’…ð’“ð’ð’ð’Ž ð’Ž "," ð‘±ð’‚ð’ ð’ƒð’†ð’…ð’“ð’ð’ð’Ž ð’Ž ð’Žð’ð’‹ ð’Œð’“ð’ ð’‚ð’ƒ ðŸ˜"," ð‘¨ð’ƒ ð’…ð’ð’ð’ ð’ƒð’‰ð’‚ð’ˆ ð’Œ ð’”ð’‰ð’‚ð’…ð’Š ð’Œð’“ð’ð’ ðŸ˜—","ð‘»ð’–ð’Ž ð’…ð’ð’ð’ ð’‘ð’‚ð’ˆð’‚ð’ ð’‰ð’ ð’†ð’Œ ð’…ð’–ð’”ð’“ð’† ð’Œ ð’ð’Šð’šð’† ðŸ˜","ð‘®ð’‰ð’–ð’” ð’‹ð’‚ð’ ð’‚ð’ƒ ð’ƒð’‚ð’•ð’‰ð’“ð’ð’ð’Ž ð’Ž ðŸ¥³","ð‘±ð’‚ð’ ð’Šð’”ð’‰ð’’ ð’ð’…ð’‚ð’ ðŸ˜‹","ð‘¹ð’†ð’’ð’–ð’†ð’”ð’• ð’ƒð’‰ð’†ð’‹ð’ ð’†ð’Œ ð’…ð’–ð’”ð’“ð’† ð’Œð’ ð’‚ð’ƒ ðŸ’ðŸš©","ð‘°ð’ð’ƒð’ð’™ ð’Ž ð’‹ð’‚ð’ ð’ð’ð’—ð’†ð’ƒð’‚ð’›ð’Š ð’Œð’“ð’ ðŸ’žðŸ’“"," ð‘ºð’‰ð’‚ð’…ð’Š ð’Œð’ƒ ð’Œð’“ ð’“ð’‰ð’† ð’‰ð’ ðŸ’","ð‘³ð’ˆ ð’‹ð’‚ð’ ð’Œð’‚ð’Ž ð’‘ ðŸ¥³","ð‘ºð’†ð’•ð’•ð’Šð’ð’ˆ ð’Œð’“ð’ð’ ð’‚ð’ƒð’‰ð’Š ð’ƒð’‰ð’Š ð’Žð’ð’Œð’‚ ð’‰ ðŸ’“ðŸ’–","ð‘±ð’˜ð’‚ð’ ð’‰ð’ ð’ˆð’šð’† ð’‰ð’ ð’‚ð’ƒ ð’•ð’ ð’”ð’‰ð’‚ð’…ð’Š ð’Œð’“ð’ð’ ðŸŽ‰ðŸŽŠ","ð’ƒð’‚ð’• ð’„ð’‰ð’Šð’• ð’”ð’–ð’“ð’– ð’Œð’“ð’ ð’Šð’ð’ƒð’ð’™ ð’Ž ðŸŽ‚ðŸŽ"];
 let sheoran = hemang[Math.floor(Math.random() * hemang.length)];


        let data = await api.getUserInfo(id);
        let name = await data[id].name
        var arraytag = [];
                arraytag.push({id: event.senderID, tag: namee});
                arraytag.push({id: id, tag: name});

        var sex = await data[id].gender;
        var gender = sex == 2 ? "MaleðŸ§‘" : sex == 1 ? "FemaleðŸ‘©â€  " : "Tran Duc Bo";
var one = senderID, two = id;
    return makeImage({ one, two }).then(path => api.sendMessage({ body: `ðŸ’ž${namee}\n                   ðŸŒº   ð—Ÿð—¼ð˜ƒð—²   ðŸŒº\nðŸ’ž${name}\n      âœ§â•â•â•â€¢âã€Ž ${tle} ã€ââ€¢â•â•â•âœ§\n                              `, mentions: arraytag, attachment: fs.createReadStream(path) }, threadID, () => fs.unlinkSync(path), messageID));
}
